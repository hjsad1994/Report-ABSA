\newpage
%
% Section IV content provided by user
%
\section{CƠ SỞ LÝ THUYẾT}\label{sec:theory_support}
\subsection{Giới thiệu bài toán}

Trong bối cảnh bùng nổ thương mại điện tử tại Việt Nam, việc phân tích và hiểu rõ cảm xúc của khách hàng từ bình luận sản phẩm đã trở thành yếu tố then chốt giúp doanh nghiệp cải thiện chất lượng dịch vụ và tối ưu hóa sản phẩm. Tuy nhiên, ngôn ngữ bình luận tiếng Việt thường chứa nhiều yếu tố phi chuẩn như tiếng lóng, viết tắt, biểu tượng cảm xúc và cấu trúc câu ngắn gọn, tạo ra thách thức lớn cho các hệ thống phân tích cảm xúc truyền thống.

Nghiên cứu này tập trung phát triển hệ thống VeritaShop tích hợp mô hình PhoBERT - một mô hình ngôn ngữ tiên tiến được thiết kế riêng cho tiếng Việt - nhằm giải quyết bài toán phân tích cảm xúc đa chiều từ bình luận sản phẩm. Mục tiêu chính là xây dựng một hệ thống có khả năng tự động phân loại chính xác cảm xúc khách hàng (tích cực, tiêu cực, trung tính) và cung cấp dự đoán đáng tin cậy về mức độ hài lòng, từ đó hỗ trợ doanh nghiệp trong việc ra quyết định chiến lược dựa trên dữ liệu thực tế.

Việc giải quyết bài toán này mang ý nghĩa thực tiễn quan trọng, không chỉ giúp doanh nghiệp nắm bắt nhanh chóng phản hồi thị trường mà còn nâng cao trải nghiệm người dùng thông qua việc cung cấp thông tin phân tích đáng tin cậy. Hệ thống được thiết kế với kiến trúc microservices linh hoạt, cho phép triển khai hiệu quả trong môi trường sản xuất và đáp ứng yêu cầu phân tích thời gian thực, góp phần thúc đẩy chuyển đổi số trong lĩnh vực thương mại điện tử tại Việt Nam.
\subsection{Các nghiên cứu liên quan}

Các hướng tiếp cận phân tích cảm xúc đã tiến hóa từ mô hình dựa trên đặc trưng thủ công sang học biểu diễn sâu quy mô lớn. Giai đoạn đầu, các đặc trưng thống kê (bag-of-words/TF–IDF) kết hợp SVM/Naive Bayes giúp triển khai nhanh nhưng kém khả năng nắm bắt ngữ nghĩa và phụ thuộc mạnh vào tiền xử lý, đặc biệt với bình luận tiếng Việt giàu tiếng lóng/emoji. Với học sâu, CNN chứng minh hiệu quả trên văn bản ngắn bằng các bộ lọc trượt \\cite{kim-2014-convolutional}, LSTM khắc phục phụ thuộc dài hạn \\cite{10.1162/neco.1997.9.8.1735}, và Transformer cùng cơ chế tự chú ý mở ra bước nhảy vọt về mô hình hóa quan hệ toàn cục \\cite{vaswani2017attention}, đặt nền cho làn sóng mô hình tiền huấn luyện.

Trong bối cảnh tiếng Việt, mô hình đa ngôn ngữ (mBERT) cho kết quả ban đầu nhưng chưa đặc tả tốt hiện tượng ngôn ngữ bản địa; các mô hình chuyên biệt như PhoBERT \\cite{phobert} cho thấy ưu thế rõ rệt trên tác vụ phân loại và cảm xúc nhờ tiền huấn luyện trên kho ngữ liệu lớn tiếng Việt. Dù vậy, phần lớn công trình vẫn bộc lộ các hạn chế: (i) miền thương mại điện tử với bình luận ngắn, nhiễu, lệch nhãn ít được xử lý có hệ thống; (ii) mất cân bằng dữ liệu thường bị xem nhẹ, ảnh hưởng trực tiếp tới F1 của lớp thiểu số; (iii) ít nghiên cứu bàn tới tích hợp thời gian thực ở mức hệ thống, bao gồm độ trễ suy luận, khả năng mở rộng và giám sát vận hành.

Nghiên cứu này định vị đóng góp bằng cách tổng hợp các tiến bộ trên theo hướng thực dụng: tinh chỉnh PhoBERT cho miền TMĐT tiếng Việt, kết hợp chiến lược học chống lệch (ví dụ focal loss) để cải thiện độ bền với mất cân bằng, và triển khai trong kiến trúc microservices hướng suy luận thời gian thực. Cách tiếp cận này vừa kế thừa sức mạnh biểu diễn của mô hình tiền huấn luyện, vừa khắc phục các khoảng trống về dữ liệu và triển khai mà nhiều nghiên cứu trước chưa giải quyết triệt để.

\subsection{Mô hình PhoBERT}
% \subsubsection{Quy trình tinh chỉnh}
% \subsubsection{Xử lý dữ liệu và hàm mất mát}
% \subsubsection{Tích hợp vào hệ thống}
\begin{comment}
Phần này trình bày nền tảng khoa học cho bài toán phân tích cảm xúc đối với bình luận sản phẩm tiếng Việt, gồm đặc tả nhiệm vụ, tổng quan các phương pháp nghiên cứu và cơ chế hoạt động của mô hình PhoBERT mà dự án lựa chọn.


Phân tích cảm xúc (Sentiment Analysis) tìm cách suy luận thái độ của người viết thông qua văn bản. Trong ngữ cảnh thương mại điện tử, tác vụ thường được rút gọn thành phân loại cảm xúc của bình luận vào các nhãn rời rạc. Đồ án VeritaShop tập trung vào tập bình luận tiếng Việt có độ dài ngắn, nhiều ký tự biểu cảm, tiếng lóng và viết tắt, đồng thời gán mỗi mẫu vào ba nhãn \textit{tích cực}, \textit{trung tính} hoặc \textit{tiêu cực}. Bài toán đặt ra ba thách thức chính: (i) dữ liệu mất cân bằng, tỷ lệ bình luận tích cực vượt trội khiến mô hình dễ thiên lệch, (ii) ngôn ngữ phi chuẩn làm suy giảm khả năng hiểu ngữ nghĩa, và (iii) yêu cầu suy luận thời gian thực để tích hợp vào quy trình phục vụ khách hàng. Do đó hệ thống cần quy trình tiền xử lý chuẩn hóa, biểu diễn ngôn ngữ mạnh và chiến lược tối ưu hóa phù hợp để duy trì độ chính xác ổn định.

\subsection{Các nghiên cứu liên quan}
Các hướng tiếp cận truyền thống sử dụng đặc trưng thống kê như bag-of-words, TF-IDF kết hợp với SVM hoặc Naive Bayes giúp triển khai nhanh nhưng thiếu khả năng nắm bắt ngữ nghĩa và phụ thuộc mạnh vào tiền xử lý thủ công. Sự phát triển của học sâu đã mở ra các mô hình biểu diễn ngữ nghĩa hiệu quả hơn:
\begin{itemize}
    \item Kim \cite{kim-2014-convolutional} chứng minh CNN với bộ lọc trượt có khả năng khai thác cụm từ quan trọng khi phân loại văn bản ngắn.
    \item LSTM \cite{10.1162/neco.1997.9.8.1735} giải quyết vấn đề phụ thuộc dài hạn trong câu, phù hợp với dữ liệu hội thoại và đánh giá.
    \item Kiến trúc Transformer cùng cơ chế Attention \cite{vaswani2017attention} cho phép mô hình hóa quan hệ toàn cục giữa các token, là tiền đề cho các mô hình ngôn ngữ pre-training.
    \item Các mô hình pre-training dành cho tiếng Việt như PhoBERT \cite{phobert}, viBERT hay viBART chứng minh hiệu quả vượt trội so với mBERT đa ngôn ngữ trong các tác vụ phân loại và phân tích cảm xúc tiếng Việt.
\end{itemize}
Những công trình trên cho thấy xu hướng chuyển dịch từ việc tự thiết kế đặc trưng sang tận dụng biểu diễn ngữ nghĩa học được từ dữ liệu lớn. Dựa trên các kết quả đó, dự án lựa chọn PhoBERT làm nền tảng và tinh chỉnh thêm để thích ứng với miền dữ liệu thương mại điện tử.


PhoBERT được xây dựng dựa trên BERT nước đôi với 12 lớp encoder, 12 đầu chú ý và chiều ẩn 768, được tiền huấn luyện trên hơn 20GB văn bản tiếng Việt chuẩn hóa theo Byte-Pair Encoding \cite{phobert}. Khối encoder học biểu diễn ngữ cảnh hai chiều, nhờ đó vector [CLS] cuối cùng mang thông tin toàn câu phục vụ phân loại.


Trong giai đoạn fine-tuning cho VeritaShop, token [CLS] được đưa qua một lớp dense ba nhãn, áp dụng Dropout 0.1 để giảm quá khớp và tối ưu bằng AdamW với lịch điều chỉnh learning rate dạng cosine. Chiến lược này cho phép mô hình hội tụ ổn định trên bộ dữ liệu không lớn.


Bộ dữ liệu bình luận bị lệch nhãn về phía tích cực, vì vậy nhóm áp dụng chiến lược tăng cường và cân bằng gồm: chuẩn hóa Unicode, chuẩn hóa viết tắt, loại bỏ ký tự nhiễu, giữ lại emoji quan trọng và sử dụng tokenizer BPE của PhoBERT với chiều dài tối đa 256 token. Focal loss với $\gamma = 2$ và hệ số $\alpha$ theo từng lớp được lựa chọn thay cho cross-entropy chuẩn để tập trung hơn vào các mẫu khó, cải thiện F1-score lớp tiêu cực.

\subsubsection{Tích hợp vào hệ thống}
PhoBERT được đóng gói thành AI Service (FastAPI) và giao tiếp với các microservice khác thông qua REST nội bộ. Product Service và Review Service xây dựng bằng Node.js kết hợp Prisma/PostgreSQL chịu trách nhiệm lưu trữ dữ liệu, trong khi Notification Service cảnh báo xu hướng tiêu cực. Toàn bộ cụm dịch vụ được container hóa bằng Docker, theo dõi bằng Prometheus/Grafana và có thể mở rộng ngang khi lưu lượng bình luận tăng.

Nhờ đặc trưng ngôn ngữ giàu ngữ cảnh và quy trình tinh chỉnh phù hợp, PhoBERT đáp ứng tốt yêu cầu phân tích cảm xúc thời gian thực của hệ thống VeritaShop.
\end{comment}
